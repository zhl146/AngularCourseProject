<div class="recipe-detail" #container>
  <div class="recipe-detail-card" #detail>
    <div class="recipe-image-card">

      <div class="recipe-btn-container">
        <div (click)="onBack()">
          <md-icon class="back-btn">arrow_back</md-icon>
        </div>
        <div>
          <md-icon class="edit-btn"
                   [routerLink]="[currentRecipeIndex, 'edit']">
            edit
          </md-icon>
        </div>
      </div>

      <div class="card-image"
           appDivImage
           [src]="currentRecipe.imagePath"
           [fallback]="'http://i347.photobucket.com/albums/p476/zhl146/recipe-placeholder_zpst2nnqbq6.png'">
      </div>
    </div>

    <md-card class="card-detail">
      <md-card-content>

        <div class="fab-container"
             (click)="onFavorite()"
             *ngIf="currentRecipe.favorite"
             [@growInOutTrigger]>
          <button md-fab
                  class="card-fav-fab-red">
            <md-icon>
              favorite
            </md-icon>
          </button>
        </div>
        <div class="fab-container"
             (click)="onFavorite()"
             *ngIf="!currentRecipe.favorite"
             [@growInOutTrigger]>
          <button md-fab
                  class="card-fav-fab-white">
            <md-icon>
              favorite_border
            </md-icon>
          </button>
        </div>

        <md-card-title>
          {{currentRecipe.name | titlecase}}
        </md-card-title>
        <div >
          <md-card-subtitle>
            {{currentRecipe.description}}
          </md-card-subtitle>
          <md-tab-group [dynamicHeight]="true">
            <md-tab [label]="'INGREDIENTS'">
              <div class="tab-contents">
                <ul>
                  <li *ngFor="let ingredient of currentRecipe.ingredients">
                    <md-icon (click)="onAddIngredient()"
                             md-list-icon>
                      add_shopping_cart
                    </md-icon>
                    {{ingredient}}
                  </li>
                </ul>
                <button (click)="onAddAllIngredients()"
                        md-button
                        color="primary">
                  ADD ALL TO LIST
                </button>
              </div>
            </md-tab>
            <md-tab [label]="'DIRECTIONS'">
              <div class="tab-contents">
                <ul>
                  <li *ngFor="let step of currentRecipe.steps; let i = index">
                    {{i+1}}) {{step}}
                  </li>
                </ul>
              </div>
            </md-tab>
          </md-tab-group>
        </div>
      </md-card-content>

    </md-card>
  </div>

</div>
