<div class="recipe-list">
  <app-recipe-detail *ngIf="currentRecipeIndex !== null"
                     [currentRecipe]="recipes[currentRecipeIndex]"
                     [currentRecipeIndex]="currentRecipeIndex">
  </app-recipe-detail>
  <div class="recipe-utils-container">

    <button class="new-recipe-btn"
            md-fab
            [@growInOutTrigger]="currentRecipeIndex !== null ? 'small' : 'big'"
            color="accent"
            routerLink="new">
      <md-icon>add</md-icon>
    </button>

    <form [formGroup]="recipeForm">
      <md-input-container>
        <input mdInput
               formControlName="filter"
               [(ngModel)]="filterString"
               placeholder="search">
        <md-icon *ngIf="filterString"
                 (click)="clearFilter()">clear</md-icon>
      </md-input-container>
    </form>
  </div>

  <div class="recipe-card"
       #recipeCard
       *ngFor="let recipe of recipes | recipeFilter: filterString; let i = index">
    <div class="recipe-image-card">

      <div class="card-image"
           (click)="onSelected(i)"
           appDivImage
           [src]="recipe.imagePath"
           [fallback]="'http://i347.photobucket.com/albums/p476/zhl146/recipe-placeholder_zpst2nnqbq6.png'">

        <ng-container *ngIf="i !== currentRecipeIndex">
          <div class="floor-fade"></div>
          <div class="title-overlay" [@fadeOutTrigger]>
            {{recipe.name | titlecase}}
          </div>
        </ng-container>

      </div>
    </div>
  </div>


  <div class="footer-padding"></div>

</div>
