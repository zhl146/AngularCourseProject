<div class="shopping-container"
     fxFlex="100"
     fxLayoutAlign="space-around"
     fxLayoutWrap="100">
  <form [formGroup]="ingForm"
        fxFlex.lt-md="100"
        fxFlex.gt-sm="60"
        novalidate
        (ngSubmit)="updateIngredients()">

    <div formArrayName="ingredients" fxLayout="row" fxLayoutAlign="center" fxLayoutWrap>

      <md-card *ngFor="let ingredientCtrl of getIngredientControls(); let i = index"
               [@itemAnimationTrigger]
               fxFlex="100"
               class="shopping-card"
               fxLayoutAlign="center"
               [formGroupName]="i"
               [ngClass]="{last: isLastElement(i)}" fxLayoutAlign="center center">

        <md-checkbox class="shopping-checkbox" *ngIf="!isLastElement(i)"></md-checkbox>


        <a (click)="addListItem()"
           class="list-button"
           *ngIf="isLastElement(i)">
          <md-icon >
            add
          </md-icon>
        </a>

        <md-input-container fxFlex>
        <textarea type="text"
                  rows="1"
                  mdTextareaAutosize
                  mdAutosizeMinRows="1"
                  mdInput
                  class="form-control"
                  formControlName="text" (keyup)="autoAddNewItem(i)"
                  (blur)="updateIngredient(i)">
        </textarea>
        </md-input-container>

        <a class="list-button">
          <div class="icon-placeholder"
               *ngIf="isLastElement(i)">
          </div>
          <md-icon (click)="onDeleteClicked(i)"
                   *ngIf="!isLastElement(i)">
            delete
          </md-icon>
        </a>

      </md-card>

    </div>
  </form>


  <div fxFlex.lt-md="100"
       fxFlex.gt-sm="30"
       *ngIf="shoppingInfo"
       class="shopping-info">
    <h2>Welcome to your shopping list!</h2>
    <p>
      Ingredients can be send here from your recipe book or you can add your own items.
      To add an item, click on the plus sign or
      just start typing.
      You can check them off as you acquire your items or you can get rid of them
      forever by clicking on the trash can item.
    </p>
    <p>
      Don't worry about losing your data - it is saved automatically on
      a remote server as soon as you navigate away.
    </p>

  </div>

</div>
